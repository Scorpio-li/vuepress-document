<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器工作原理 | 天狼</title>
    <meta name="description" content="这是Scorpion的Vue技术文档（博客）">
    <link rel="icon" href="/vuepress-document/favicon.ico">
    
    <link rel="preload" href="/vuepress-document/assets/css/0.styles.705e878f.css" as="style"><link rel="preload" href="/vuepress-document/assets/js/app.650f14c9.js" as="script"><link rel="preload" href="/vuepress-document/assets/js/52.087c4cce.js" as="script"><link rel="prefetch" href="/vuepress-document/assets/js/10.b8ff6a15.js"><link rel="prefetch" href="/vuepress-document/assets/js/11.994504ac.js"><link rel="prefetch" href="/vuepress-document/assets/js/12.3ff608f0.js"><link rel="prefetch" href="/vuepress-document/assets/js/13.b28ff007.js"><link rel="prefetch" href="/vuepress-document/assets/js/14.c2fffbad.js"><link rel="prefetch" href="/vuepress-document/assets/js/15.2321e820.js"><link rel="prefetch" href="/vuepress-document/assets/js/16.3d1b52f3.js"><link rel="prefetch" href="/vuepress-document/assets/js/17.66bb3259.js"><link rel="prefetch" href="/vuepress-document/assets/js/18.ce69e187.js"><link rel="prefetch" href="/vuepress-document/assets/js/19.2617f82f.js"><link rel="prefetch" href="/vuepress-document/assets/js/2.5118307d.js"><link rel="prefetch" href="/vuepress-document/assets/js/20.4681c02b.js"><link rel="prefetch" href="/vuepress-document/assets/js/21.6f28050d.js"><link rel="prefetch" href="/vuepress-document/assets/js/22.1601f003.js"><link rel="prefetch" href="/vuepress-document/assets/js/23.adf3bd75.js"><link rel="prefetch" href="/vuepress-document/assets/js/24.5eb5a778.js"><link rel="prefetch" href="/vuepress-document/assets/js/25.ac5375c6.js"><link rel="prefetch" href="/vuepress-document/assets/js/26.582c0b19.js"><link rel="prefetch" href="/vuepress-document/assets/js/27.b4b00686.js"><link rel="prefetch" href="/vuepress-document/assets/js/28.dad8cc4d.js"><link rel="prefetch" href="/vuepress-document/assets/js/29.0e573d78.js"><link rel="prefetch" href="/vuepress-document/assets/js/3.3ba30543.js"><link rel="prefetch" href="/vuepress-document/assets/js/30.f174eb61.js"><link rel="prefetch" href="/vuepress-document/assets/js/31.feb55539.js"><link rel="prefetch" href="/vuepress-document/assets/js/32.131b6898.js"><link rel="prefetch" href="/vuepress-document/assets/js/33.46dde665.js"><link rel="prefetch" href="/vuepress-document/assets/js/34.adde89d6.js"><link rel="prefetch" href="/vuepress-document/assets/js/35.aad7826d.js"><link rel="prefetch" href="/vuepress-document/assets/js/36.299885af.js"><link rel="prefetch" href="/vuepress-document/assets/js/37.79d2481b.js"><link rel="prefetch" href="/vuepress-document/assets/js/38.705f3736.js"><link rel="prefetch" href="/vuepress-document/assets/js/39.99bebae7.js"><link rel="prefetch" href="/vuepress-document/assets/js/4.23bcec6f.js"><link rel="prefetch" href="/vuepress-document/assets/js/40.8dea417d.js"><link rel="prefetch" href="/vuepress-document/assets/js/41.a04d6d30.js"><link rel="prefetch" href="/vuepress-document/assets/js/42.987717ba.js"><link rel="prefetch" href="/vuepress-document/assets/js/43.4b054b84.js"><link rel="prefetch" href="/vuepress-document/assets/js/44.910f92f0.js"><link rel="prefetch" href="/vuepress-document/assets/js/45.cc294d73.js"><link rel="prefetch" href="/vuepress-document/assets/js/46.ef1d7a56.js"><link rel="prefetch" href="/vuepress-document/assets/js/47.7b617a3b.js"><link rel="prefetch" href="/vuepress-document/assets/js/48.72ca906b.js"><link rel="prefetch" href="/vuepress-document/assets/js/49.44bc18e7.js"><link rel="prefetch" href="/vuepress-document/assets/js/5.2fb0ebbd.js"><link rel="prefetch" href="/vuepress-document/assets/js/50.70633d3b.js"><link rel="prefetch" href="/vuepress-document/assets/js/51.493a5f9a.js"><link rel="prefetch" href="/vuepress-document/assets/js/53.7fa5c2aa.js"><link rel="prefetch" href="/vuepress-document/assets/js/54.ca6a18a0.js"><link rel="prefetch" href="/vuepress-document/assets/js/55.9f74e0fa.js"><link rel="prefetch" href="/vuepress-document/assets/js/56.c89c42a0.js"><link rel="prefetch" href="/vuepress-document/assets/js/57.c930189b.js"><link rel="prefetch" href="/vuepress-document/assets/js/58.e503dde5.js"><link rel="prefetch" href="/vuepress-document/assets/js/59.bcd58742.js"><link rel="prefetch" href="/vuepress-document/assets/js/6.3d34d59d.js"><link rel="prefetch" href="/vuepress-document/assets/js/60.9d7e062c.js"><link rel="prefetch" href="/vuepress-document/assets/js/61.286554bd.js"><link rel="prefetch" href="/vuepress-document/assets/js/62.1b98c3fd.js"><link rel="prefetch" href="/vuepress-document/assets/js/63.6d3861f9.js"><link rel="prefetch" href="/vuepress-document/assets/js/64.43bd8e74.js"><link rel="prefetch" href="/vuepress-document/assets/js/65.80ae6c28.js"><link rel="prefetch" href="/vuepress-document/assets/js/66.b352d587.js"><link rel="prefetch" href="/vuepress-document/assets/js/67.6dc63bcd.js"><link rel="prefetch" href="/vuepress-document/assets/js/68.7a2b4d33.js"><link rel="prefetch" href="/vuepress-document/assets/js/69.2a080402.js"><link rel="prefetch" href="/vuepress-document/assets/js/7.40fda7c4.js"><link rel="prefetch" href="/vuepress-document/assets/js/70.6716c597.js"><link rel="prefetch" href="/vuepress-document/assets/js/71.256e03ab.js"><link rel="prefetch" href="/vuepress-document/assets/js/72.85b691f1.js"><link rel="prefetch" href="/vuepress-document/assets/js/73.d1d84f75.js"><link rel="prefetch" href="/vuepress-document/assets/js/74.cb1fbe1a.js"><link rel="prefetch" href="/vuepress-document/assets/js/8.e9937d85.js"><link rel="prefetch" href="/vuepress-document/assets/js/9.73674bdb.js">
    <link rel="stylesheet" href="/vuepress-document/assets/css/0.styles.705e878f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-document/" class="home-link router-link-active"><!----> <span class="site-name">天狼</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-document/Javascript/" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----> <a href="/vuepress-document/CSS/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/vuepress-document/HTML/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/vuepress-document/browser/" class="nav-link router-link-active">Browser(浏览器)</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-document/outils/" class="nav-link">工具函数</a></div><div class="nav-item"><a href="/vuepress-document/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/vuepress-document/example/" class="nav-link">实例</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lzl1028" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lzl1028.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-document/Javascript/" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----> <a href="/vuepress-document/CSS/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/vuepress-document/HTML/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/vuepress-document/browser/" class="nav-link router-link-active">Browser(浏览器)</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-document/outils/" class="nav-link">工具函数</a></div><div class="nav-item"><a href="/vuepress-document/work/" class="nav-link">工作</a></div><div class="nav-item"><a href="/vuepress-document/example/" class="nav-link">实例</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lzl1028" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://lzl1028.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vuepress-document/browser/work.html" class="active sidebar-link">浏览器工作原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#_1-浏览器接受url开启网络请求线程" class="sidebar-link">1. 浏览器接受url开启网络请求线程</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#_2-开启网络线程发出一个完整的http请求" class="sidebar-link">2. 开启网络线程发出一个完整的http请求</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#dns查询" class="sidebar-link">DNS查询</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#tcp-ip请求" class="sidebar-link">tcp/ip请求</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#四次挥手" class="sidebar-link">四次挥手</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#五层因特网协议" class="sidebar-link">五层因特网协议</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#_3-网络通讯http协议" class="sidebar-link">3. 网络通讯HTTP协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#http协议格式" class="sidebar-link">HTTP协议格式</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#http-method-请求方法" class="sidebar-link">HTTP Method 请求方法</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#http-status-code状态码" class="sidebar-link">HTTP Status code状态码</a></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#http-head（http头）" class="sidebar-link">HTTP HEAD（HTTP头）</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-document/browser/work.html#浏览器的工作流程" class="sidebar-link">浏览器的工作流程</a></li></ul></li><li><a href="/vuepress-document/browser/compatibility.html" class="sidebar-link">H5 键盘兼容性</a></li><li><a href="/vuepress-document/browser/request.html" class="sidebar-link">服务端发送请求方式</a></li><li><a href="/vuepress-document/browser/store.html" class="sidebar-link">前端本地存储</a></li><li><a href="/vuepress-document/browser/statusCode.html" class="sidebar-link">HTTP详解</a></li><li><a href="/vuepress-document/browser/crossDomain.html" class="sidebar-link">前端跨域问题</a></li><li><a href="/vuepress-document/browser/compatible.html" class="sidebar-link">浏览器兼容</a></li><li><a href="/vuepress-document/browser/re.html" class="sidebar-link">浏览器的回流和重绘</a></li><li><a href="/vuepress-document/browser/nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/vuepress-document/browser/cache.html" class="sidebar-link">浏览器的缓存机制</a></li><li><a href="/vuepress-document/browser/requests.html" class="sidebar-link">前端的网络请求方式</a></li><li><a href="/vuepress-document/browser/login.html" class="sidebar-link">浏览器登录验证（cookie、session、token）</a></li><li><a href="/vuepress-document/browser/drawing.html" class="sidebar-link">浏览器渲染基本原理解析</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="浏览器工作原理"><a href="#浏览器工作原理" aria-hidden="true" class="header-anchor">#</a> 浏览器工作原理</h1> <p><img src="https://user-gold-cdn.xitu.io/2019/2/20/1690aee1a258241b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image"></p> <ul><li>浏览器工作流程
<ol><li>浏览器接受url开启一个网络请求线程</li> <li>浏览器发出一个完整的http请求</li> <li>服务器接收请求到后台接收请求</li> <li>使用http请求请求页面</li> <li>把请求回来的html代码解析成DOM树</li> <li>CSS的可视化格式模型解析</li> <li>根据CSS属性对元素进行渲染，得到内存中的位图</li> <li>对位图的合成</li> <li>绘制页面</li></ol></li></ul> <h2 id="_1-浏览器接受url开启网络请求线程"><a href="#_1-浏览器接受url开启网络请求线程" aria-hidden="true" class="header-anchor">#</a> 1. 浏览器接受url开启网络请求线程</h2> <ul><li><p>第一点主要涉及的是浏览器的进程、线程模型以及JS的运行机制：</p></li> <li><p>大多数浏览器是多进程的，有一个主控进程，以及每一个tab页面都会新开一个进程（某些情况下多个tab会合并进程）</p></li> <li><p>进程可能包括主控进程，插件进程，GPU，tab页（浏览器内核）等等。</p> <ul><li><p>Browser进程：浏览器的主进程（负责协调、主控），只有一个</p></li> <li><p>第三方插件进程：每种类型的插件对应一个进程，仅当使用该插件时才创建</p></li> <li><p>GPU进程：最多一个，用于3D绘制</p></li> <li><p>浏览器渲染进程（内核）：默认每个Tab页面一个进程，互不影响，控制页面渲染，脚本执行，事件处理等（有时候会优化，如多个空白tab会合并成一个进程）</p></li></ul></li></ul> <h2 id="_2-开启网络线程发出一个完整的http请求"><a href="#_2-开启网络线程发出一个完整的http请求" aria-hidden="true" class="header-anchor">#</a> 2. 开启网络线程发出一个完整的http请求</h2> <ul><li>该部分主要包括：dns查询、tcp/ip请求构建、五层因特网等内容</li></ul> <h3 id="dns查询"><a href="#dns查询" aria-hidden="true" class="header-anchor">#</a> DNS查询</h3> <ul><li><p>如果输入的是域名，需要进行dns解析成IP，大致流程：</p> <ol><li>如果浏览器有缓存，直接使用浏览器缓存，否则使用本机缓存，再没有的话就是用host</li> <li>如果本地没有，就向dns域名服务器查询（当然，中间可能还会经过路由，也有缓存等），查询到对应的IP。</li></ol></li> <li><p>DNS预解析：</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!--在head标签中，越早越好--&gt;
&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//example.com&quot;&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="tcp-ip请求"><a href="#tcp-ip请求" aria-hidden="true" class="header-anchor">#</a> tcp/ip请求</h3> <ul><li>TCP三次握手四次挥手
<img src="https://user-gold-cdn.xitu.io/2018/12/31/168020016083b3d4?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image"></li></ul> <h4 id="第一次握手：建立连接"><a href="#第一次握手：建立连接" aria-hidden="true" class="header-anchor">#</a> 第一次握手：建立连接</h4> <ul><li>客户端发送连接请求报文段，将SYN值设为1，Sequence Number为x。客户端进入SYN_SEND状态，等待服务器的确认。</li></ul> <h4 id="第二次握手：服务器收到syn报文段"><a href="#第二次握手：服务器收到syn报文段" aria-hidden="true" class="header-anchor">#</a> 第二次握手：服务器收到SYN报文段</h4> <ul><li>服务器收到客户端SYN报文段，需要对这个SYN报文段进行确认，设置Acknowledgment Number为x+1(Sequence Number+1)。同时，自己自己还要发送SYN请求信息，将SYN值设为1，Sequence Number设为y。服务器端将上述所有信息放到一个报文段（即SYN+ACK报文段）中，一并发送给客户端，服务器进入SYN_RECV状态。</li></ul> <h4 id="第三次握手：客户端收到syn-ack报文段"><a href="#第三次握手：客户端收到syn-ack报文段" aria-hidden="true" class="header-anchor">#</a> 第三次握手：客户端收到SYN+ACK报文段</h4> <ul><li>客户端收到服务器的SYN+ACK报文段后将Acknowledgment Number设置为y+1，向服务器发送ACK报文段，这个报文段发送完毕以后，客户端和服务器端都进入ESTABLISHED状态，完成TCP三次握手。</li></ul> <hr> <ul><li><p>完成三次握手，客户端与服务器开始传送数据，在上述过程中，还有一些重要的概念：</p> <ul><li><p>未连接队列：在三次握手协议中，服务器维护一个未连接队列，该队列为每个客户端的SYN包（syn=j）开设一个条目，该条目表明服务器已收到SYN包，并向客户发出确认，正在等待客户的确认包。这些条目所标识的连接在服务器处于Syn_RECV状态，当服务器收到客户的确认包时，删除该条目，服务器进入ESTABLISHED状态。</p></li> <li><p>Backlog参数：表示未连接队列的最大容纳数目。</p></li> <li><p>SYN-ACK 重传次数：服务器发送完SYN－ACK包，如果未收到客户确认包，服务器进行首次重传，等待一段时间仍未收到客户确认包，进行第二次重传，如果重传次数超过系统规定的最大重传次数，系统将该连接信息从未连接队列中删除。注意，每次重传等待的时间不一定相同。</p></li> <li><p>未连接存活时间：是指未连接队列的条目存活的最长时间，也即服务从收到SYN包到确认这个报文无效的最长时间，该时间值是所有重传请求包的最长等待时间总和。有时我们也称未连接存活时间为Timeout时间、SYN_RECV存活时间。</p></li></ul></li></ul> <h3 id="四次挥手"><a href="#四次挥手" aria-hidden="true" class="header-anchor">#</a> 四次挥手</h3> <ol><li><p>当主机1 发出FIN报文时，只是告诉主机2，我已经没有数据需要发送了， 但是还是可以接收主机2的数据(==第一次==)</p></li> <li><p>当主机2发出报文时，只是告诉主机1，我已经接收到信号，知道你没有数据再要发送了， 但是主机2还是可以继续发送数据给主机1(==第二==次)</p></li> <li><p>当主机2也真的没有数据要发送给主机1时，就会发送报文给主机1， 告诉主机1我也没有数据需要发送了(==第三次==)</p></li> <li><p>主机1收到报文后，再次发送报文给主机2，说明可以关闭连接了(==第四次==)</p></li></ol> <h3 id="五层因特网协议"><a href="#五层因特网协议" aria-hidden="true" class="header-anchor">#</a> 五层因特网协议</h3> <ul><li><p>从客户端发出http请求到服务器接收，中间会经过一系列的流程。</p> <ol><li><p>从应用层的发送http请求</p></li> <li><p>到传输层通过三次握手建立tcp/ip连接</p></li> <li><p>再到网络层的ip寻址</p></li> <li><p>再到数据链路层的封装成帧</p></li> <li><p>最后到物理层的利用物理介质传输。</p></li></ol></li> <li><p>五层因特尔协议栈：</p> <ol><li><p>应用层(dns,http)</p></li> <li><p>传输层(tcp,udp) 建立tcp连接（三次握手）</p></li> <li><p>网络层(IP,ARP) IP寻址</p></li> <li><p>数据链路层(PPP)</p></li> <li><p>物理层</p></li></ol></li></ul> <h2 id="_3-网络通讯http协议"><a href="#_3-网络通讯http协议" aria-hidden="true" class="header-anchor">#</a> 3. 网络通讯HTTP协议</h2> <ul><li>HTTP协议是基于TCP协议出现的，在TCP的基础上规定了Request-Response的模型，决定了通讯必须由浏览器端发起的，首先来了解下HTTP协议的格式：</li></ul> <h3 id="http协议格式"><a href="#http协议格式" aria-hidden="true" class="header-anchor">#</a> HTTP协议格式</h3> <p>HTTP协议大致可以分成以下部分：其中path是请求路径、version是固定的字符串，依次介绍下面的每个部分：
<img src="https://user-gold-cdn.xitu.io/2019/2/20/1690aee1a2673661?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image"></p> <h3 id="http-method-请求方法"><a href="#http-method-请求方法" aria-hidden="true" class="header-anchor">#</a> HTTP Method 请求方法</h3> <p>在requestline里面的方法部分，表示HTTP的操作类型，常见的几种请求方法如下：</p> <ul><li>GET：浏览器通过地址访问页面均属于get请求</li> <li>POST：常见的表单提交</li> <li>HEAD ：跟get类似，区别在于只返回请求头</li> <li>PUT：表示添加资源</li> <li>DELETE：表示删除资源</li> <li>CONNECT： 多用于HTTPS和WebSocket</li> <li>OPTIONS</li> <li>TRACE</li></ul> <h3 id="http-status-code状态码"><a href="#http-status-code状态码" aria-hidden="true" class="header-anchor">#</a> HTTP Status code状态码</h3> <ul><li><p>常见的状态码有以下几种：</p> <ol><li>1xx：临时回应</li> <li>2xx：请求成功，如200</li> <li>3xx：请求目标有变化，如301和302表示临时和永久重定向，304表示客户端没有更新内容</li> <li>4xx;请求错误，如403无权限，404访问的资源不存在</li> <li>5xx：服务端错误，如500服务端错误，503服务端暂时错误等</li></ol></li> <li><p>在前端开发中，最熟悉的系列无非是大家都喜欢的200请求成功的标志，在面试中，问得较多的是304缓存问题和301、302重定向的问题。</p></li></ul> <h3 id="http-head（http头）"><a href="#http-head（http头）" aria-hidden="true" class="header-anchor">#</a> HTTP HEAD（HTTP头）</h3> <p>HTTP头可以看做是一个键值对，在HTTP标准中，</p> <ul><li>Request Header如下图：</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2019/2/20/1690aee1a27d4803?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image"></p> <ul><li>Response Header如下图：</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2019/2/20/1690aee1a29607f3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image"></p> <h2 id="浏览器的工作流程"><a href="#浏览器的工作流程" aria-hidden="true" class="header-anchor">#</a> 浏览器的工作流程</h2> <ul><li>构建DOM树-构建CSSOM-构建渲染树-布局-绘制</li></ul></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/4/2019, 2:46:52 PM</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/vuepress-document/browser/compatibility.html">
          H5 键盘兼容性
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/vuepress-document/assets/js/app.650f14c9.js" defer></script><script src="/vuepress-document/assets/js/52.087c4cce.js" defer></script>
  </body>
</html>
